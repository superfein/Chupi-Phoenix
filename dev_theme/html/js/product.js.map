{"version":3,"sources":["product.js"],"names":["$","document","ready","addToBagButton","text","requiredCustomisationCheck","requiredText","length","addClass","addToBadButtonDefaultText","removeClass","each","this","hasClass","attr","deactivateInitialsSelection","e","off","click","children","activeSelectionPosLeft","find","eq","siblings","position","left","css","not","closest","toggleClass","minTextareaChars","window","innerWidth","desktopBreakPoint","target","on","bespokeRingsizeText","val","indexOfThis","parent","index","currentInput","selectedCharacterClass","next","initialsCompleteSelection","initialsCount","i","thisCustomiseSection","selectionTitle","clone","thisDropdownPanel","remove","end","selectionImage","thisDropdownButton","prependTo","thisQuestion","lockPageScroll","hover","thisPhotoIndex","preventDefault","slideUp","mobileMenuSlideTime","slideToggle"],"mappings":"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","file":"product.js","sourcesContent":["$( document ).ready(function() {\n\n\n\n\n\n  // Product page\n\n  // Sticky Gallery and CTA\n  // function stickyGalleryAndCta() {\n  //\n  //   var productTopPaddingTop = parseInt($('#product-top').css('padding-top')); // Distance from top of document to top of gallery\n  //   var productInfoWidth = $('#product-info').outerWidth();\n  //   var productGalleryWidth = $('#product-gallery').outerWidth();\n  //   var productInfoPosBottom = $('#product-info').offset().top + $('#product-info').outerHeight();\n  //   var productGalleryPosTop = $('#product-gallery .inner').offset().top;\n  //   var productGalleryPosBottom = $('#product-gallery .inner').offset().top + $('#product-gallery .inner').outerHeight();\n\t//   var scrolled = $(window).scrollTop();\n  //\n  //   if( window.innerWidth > desktopBreakPoint ) { // Desktop only\n  //\n  //     // CTA\n  //     $('#product-cta .inner').css('width', productInfoWidth); // Set CTA width to fit parent\n  // \t\tif( scrolled + window.innerHeight >= productInfoPosBottom ) { // If past parent position\n  //       $('#product-cta .inner').addClass('unfixed');\n  // \t\t} else {\n  //       $('#product-cta .inner').removeClass('unfixed');\n  //     }\n  //\n  //     // Gallery\n  //     $('#product-gallery .inner').css('width', productGalleryWidth); // Set Gallery width to fit parent\n  //     if( (productInfoPosBottom - scrolled) <= (productGalleryPosBottom - scrolled) ) { // If bottom of info section is less than bottom of gallery\n  //       $('#product-gallery .inner').addClass('unfixed');\n  // \t\t}\n  //     if ((productGalleryPosTop - scrolled) > productTopPaddingTop){ // If top of gallery is past fixed top position\n  //       $('#product-gallery .inner').removeClass('unfixed');\n  //     }\n  //\n  //   }\n  //   else { // Mobile only - remove any desktop size and position modification\n  //     $('#product-cta .inner').css('width', '').removeClass('unfixed');\n  //     $('#product-gallery .inner').css('width', '').removeClass('unfixed');\n  //   }\n  //\n\t// }\n  // if ($('#product-gallery').length) { // only run on Product page\n  //   stickyGalleryAndCta();\n  // \t$(window).scroll ( function() {\tstickyGalleryAndCta(); });\n  // \t$(window).resize ( function() {\tstickyGalleryAndCta(); });\n  // }\n\n\n\n\n\n  const addToBagButton = $('#add-to-bag');\n  var addToBadButtonDefaultText = addToBagButton.text();\n\n\n  // Required customisation check\n  function requiredCustomisationCheck() {\n    //console.log('check');\n    if ( $('.customise-section').length == $('.customise-section.complete').length ) {\n      addToBagButton.addClass('btn-solid'); // Button style\n      addToBagButton.text(addToBadButtonDefaultText); // Return button to default text\n    }\n    else {\n      addToBagButton.removeClass('btn-solid'); // Button style\n      $('.customise-section').each( function() {\n        if ( !$(this).hasClass('complete') ) { // If this field is not complete\n          var requiredText = $(this).attr('data-required-text');\n          addToBagButton.text(requiredText); // Change CTA button text\n          return false;\n        }\n      });\n    }\n  }\n  requiredCustomisationCheck(); // Call on load\n\n\n\n\n\n\n  // Click Add-to-bag\n  addToBagButton.off().click( function(e) {\n    $('.customise-section').each( function() {\n      // If this incomplete required field exists\n      if ( !$(this).hasClass('complete') ) {\n        e.stopPropagation(); // Prevent submit\n        if ($(this).children('.dropdown-panel').length) {\n          $(this).children('.dropdown-panel').addClass('active');\n        }\n        if ($(this).hasClass('customise-initials')) { // For Initials\n          $('.customise-initials .initials-selection').each( function() { // across each selection...\n            $(this).find('span.initial-blank-faded').eq(0).addClass('active'); // Activate first blank item\n          });\n          $('.customise-initials .initials-selection .pointer').addClass('active'); // Show pointer (Desktop only)\n          var activeSelectionPosLeft = $('.customise-initials .initials-selection .pointer').siblings('span.active').position().left;\n          $('.customise-initials .initials-selection .pointer').css('left', activeSelectionPosLeft + 'px'); // Move pointer to active selection item\n        }\n        return false;\n      }\n      // Commit Add-to-bag\n      else {\n\n      }\n    });\n  }); // end click Add-to-bag\n\n\n\n\n\n\n\n\n  // Open product customise panel\n  $('.customise-section .dropdown-btn').off().click( function() {\n    $('.customise-section').not($(this).closest('.customise-section')).find('.dropdown-panel').removeClass('active'); // Close any other open customisation panels\n    $(this).siblings('.dropdown-panel').toggleClass('active'); // Open selected customisation panel\n  });\n\n\n  // Close product customise panel with close button (mobile)\n  $('.customise-section .dropdown-panel .close-btn').off().click( function() {\n    $(this).closest('.dropdown-panel').removeClass('active');\n    deactivateInitialsSelection(); // Deactivate any initials\n  });\n\n\n  // Close product customise panel by clicking outside of panel (Desktop)\n  $('html').click(function(e) {\n    if( (window.innerWidth > desktopBreakPoint) ) { // Desktop only\n      if( !e.target.closest('.customise-section') ) {\n        $('.dropdown-panel').removeClass('active');\n        deactivateInitialsSelection(); // Deactivate any initials\n      }\n    }\n  });\n\n\n  // Customisation - Ring size\n  $('.customise-ring-size .ring-size-option').off().click( function() {\n    $(this).closest('.dropdown-panel').toggleClass('active');\n  });\n  // Open Bespoke ringsize option\n  $('.customise-ring-size .ring-size-bespoke > a').off().click( function() {\n    $(this).siblings('.inner').addClass('active');\n  });\n  // Enable Bespoke ringsize Done button after input\n  $('.customise-ring-size .ring-size-bespoke').find('textarea').on(\"change keyup paste\", function() {\n    var minTextareaChars = 1;\n    if($(this).val().length >= minTextareaChars) {\n      $(this).siblings('.btn').removeClass('disabled');\n    } else {\n      $(this).siblings('.btn').addClass('disabled');\n    }\n  });\n  // Apply bespoke ringsize option\n  $('.customise-ring-size .ring-size-bespoke').find('.btn').off().click( function() {\n    var bespokeRingsizeText = $(this).siblings('textarea').val();\n    $(this).closest('.customise-section').find('.dropdown-btn').text(bespokeRingsizeText); // Apply text\n    $(this).closest('.dropdown-panel').toggleClass('active'); // Close panel\n    $(this).closest('.customise-section').addClass('complete').attr('data-customise-selection', bespokeRingsizeText); // Mark as complete and append selection\n    requiredCustomisationCheck(); // Run required customisation check\n  });\n\n\n\n  // Customisation - Birthstone\n  $('.customise-birthstone .birthstone-option').off().click( function() {\n    $(this).closest('.dropdown-panel').toggleClass('active');\n  });\n\n\n\n  // Customisation - Starsign\n  $('.customise-starsign .starsign-option').off().click( function() {\n    $(this).closest('.dropdown-panel').toggleClass('active');\n  });\n\n\n\n  // Customisation - Coordinates\n  $('.customise-coordinates .switch').off().click( function() {\n    $(this).toggleClass('switched');\n  });\n\n\n\n\n\n\n  // Customisation - Initials\n  // Click initial selection item\n  $('.customise-initials .initials-selection span').off().click( function() {\n    var indexOfThis = $(this).parent().children().index(this); // Get index of clicked\n    $('.customise-initials .initials-selection span').removeClass('active'); // Deactivate all across each selection\n    $('.customise-initials .initials-selection').each( function() { // across each selection...\n      $(this).find('span').eq(indexOfThis).attr('class', 'initial-blank-faded active'); // Reset classes to blank and active\n    });\n    $('.customise-section').not($(this).closest('.customise-section')).find('.dropdown-panel').removeClass('active'); // Close any other open customisation panels\n    $(this).closest('.customise-section').children('.dropdown-panel').addClass('active'); // Open selection panel\n    $(this).siblings('.pointer').addClass('active'); // Show pointer (Desktop only)\n    var activeSelectionPosLeft = $('.customise-initials .initials-selection .pointer').siblings('span.active').position().left;\n    $('.customise-initials .initials-selection .pointer').css('left', activeSelectionPosLeft + 'px'); // Move pointer to active selection item\n    $('.customise-initials').removeClass('complete'); // Unmark as complete\n    $('.customise-initials').attr('data-customise-selection', ''); // Clear selection data\n    requiredCustomisationCheck(); // Run required customisation check\n  });\n\n  // Select character\n  $('.customise-initials .dropdown-panel .initials-options a').off().click( function() {\n    var selectedCharacter = $(this).attr('data-initial');\n    var selectedCharacterClass = $(this).attr('class');\n    var currentInput = '';\n    var activeSelectionPosLeft = 0;\n    // Replace blank class with selected initial and active, append character to title attr.\n    $('.customise-initials .initials-selection span.active').attr('class', 'active ' + selectedCharacterClass).attr('title', selectedCharacter);\n\n    // If more blanks exist, focus on the next\n    if ($('.customise-initials .initials-selection').children('.initial-blank-faded').length > 0) {\n      //console.log('initials if');\n      // If the next is blank, focus on this\n      if ($('.customise-initials .initials-selection span.active').next('.initial-blank-faded').length > 0) {\n        //console.log('initials next');\n        $('.customise-initials .initials-selection').each( function() {\n          currentInput = $(this).find('span.active');\n          currentInput.next('.initial-blank-faded').addClass('active');\n          currentInput.removeClass('active');\n        });\n        activeSelectionPosLeft = $('.customise-initials .initials-selection .pointer').siblings('span.active').position().left;\n        $('.customise-initials .initials-selection .pointer').css('left', activeSelectionPosLeft + 'px'); // Move pointer to active selection item\n      }\n      // Else loop back, find the next blank, and focus\n      else {\n        //console.log('initials loop back');\n        $('.customise-initials .initials-selection').each( function() {\n          currentInput = $(this).find('span.active');\n          currentInput.siblings('span.initial-blank-faded').eq(0).addClass('active'); // Activate first blank item\n          currentInput.removeClass('active');\n        });\n        activeSelectionPosLeft = $('.customise-initials .initials-selection .pointer').siblings('span.active').position().left;\n        $('.customise-initials .initials-selection .pointer').css('left', activeSelectionPosLeft + 'px'); // Move pointer to active selection item\n      }\n\n    }\n    // When all selections are complete\n    else {\n      //console.log('initials else');\n      $('.customise-initials .dropdown-panel .dropdown-panel-footer .btn').removeClass('disabled'); // Enable confirm button (Mobile only)\n      if( window.innerWidth > desktopBreakPoint ) { // Close panel on Desktop only\n        deactivateInitialsSelection();\n        $('.customise-initials .dropdown-panel').removeClass('active');\n      }\n      $('.customise-initials').addClass('complete'); // Mark as complete\n      // Write selection data\n      var initialsCompleteSelection = '';\n      var initialsCount = $('.customise-initials .initials-selection').eq(0).find('span').length;\n      $('.customise-initials .initials-selection').eq(0).find('span').each(function(i) { // only read from one initials selection\n        if ($(this).index() == initialsCount-1) { // if last in loop, no comma and space\n          initialsCompleteSelection += $(this).attr('title');\n        } else {\n          initialsCompleteSelection += $(this).attr('title') + \", \";\n        }\n      });\n      $('.customise-initials').attr('data-customise-selection', initialsCompleteSelection);\n      requiredCustomisationCheck(); // Run required customisation check\n    }\n\n  }); // End select character\n\n  // Apply selected initials on Mobile\n  $('.customise-initials .dropdown-panel .dropdown-panel-footer .btn').off().click( function() {\n    $('.customise-initials .dropdown-panel').removeClass('active');\n  });\n\n  // Deactivate any initial selection items\n  function deactivateInitialsSelection() {\n    $('.customise-initials .initials-selection span, .customise-initials .initials-selection .pointer').removeClass('active');\n  }\n\n\n\n\n  // Customisation - general selection (ring-size. birthstone, starsign)\n  $('.customise-section .dropdown-panel .dropdown-option').off().click( function() {\n\n    debugger;\n\n    var thisCustomiseSection = $(this).closest('.customise-section');\n    var thisDropdownButton = thisCustomiseSection.find('.dropdown-btn');\n    var thisDropdownPanel = thisCustomiseSection.find('.dropdown-panel');\n    var selectionTitle = $(this).clone().children().remove().end().text(); // Direct text content only, not additional child content\n    var selectionImage = '';\n\n    // Append images to selection\n    if($(this).children('img').length) {\n      selectionImage = '<img src=\"' + $(this).children('img').attr('src') + '\" />';\n      thisDropdownButton.addClass('prepend-image');\n      $(selectionImage).prependTo(thisDropdownButton);\n      //thisDropdownButton.appendChild(selectionImage);\n    } else {\n      thisDropdownButton.removeClass('prepend-image');\n    }\n    // For ringsize, clear and hide bespoke size textarea\n    if($(this).hasClass('ring-size-option')) {\n      $(this).closest('.dropdown-panel').find('.ring-size-bespoke').children('.inner').removeClass('active').find('textarea').val('');\n    }\n\n    thisDropdownPanel.removeClass('active'); // Close overlay\n    $('body').css('overflow', ''); // Allow scrolling main content (blocked on mobile)\n    thisDropdownButton.text(selectionTitle).parent('.customise-section'); // Apply selection text\n    thisCustomiseSection.addClass('complete').attr('data-customise-selection', selectionTitle); // Mark as complete and append selection\n    requiredCustomisationCheck(); // Run required customisation check\n\n    // Append variant ID\n  });\n\n\n\n  // Open guide\n  $('.customise-section .guide-btn').off().click( function() {\n    lockPageScroll(); // Lock page scroll\n    $(this).closest('.customise-section').find('.product-guide-drawer').addClass('active');\n  });\n\n\n\n  // Open Hint drawer\n  $('.send-hint').off().click( function() {\n    lockPageScroll(); // Lock page scroll\n    $('#hint-drawer').addClass('active');\n  });\n\n\n\n\n\n  // Product customer stories hover effect\n  $('.customer-photo').hover( function() {\n    var thisPhotoIndex = $('.customer-photo').index(this); // get index of current\n    // Make current photo active\n    $('.customer-photo').removeClass('active');\n    $(this).addClass('active');\n    // Make current quote active\n    $(this).parent('.grid-item').siblings('.grid-item').children('.customer-quote').removeClass('active').eq(thisPhotoIndex).addClass('active');\n  }, function() {\n    // Hover off\n  });\n\n\n  // Product FAQs open/close\n  $('#product-faq .question').off().click(function(e) {\n    e.preventDefault();\n    var thisQuestion = $(this);\n    $('#product-faq .question').not(thisQuestion).removeClass('active').siblings('.answer').slideUp(mobileMenuSlideTime); // close all\n    thisQuestion.toggleClass('active').siblings('.answer').slideToggle(mobileMenuSlideTime); // open this\n  });\n\n\n\n\n\n\n  // Product Detail section - disable Slick on desktop\n  // function productDetailSlider() {\n  //   if( window.innerWidth > desktopBreakPoint ) { // Desktop only\n  //     if (!$('body').hasClass('desktop')) {\n  //       setTimeout(function(){\n  //         $('#product-detail .slider').slick(slickSliderSettings); // Enable Slick\n  //         $('#product-detail .slider').slick(\"unslick\"); // Disable Slick\n  //       }, 200);\n  //     }\n  //     $('body').addClass('desktop');\n  //   }\n  //   else { // Mobile only\n  //     if ($('body').hasClass('desktop')) {\n  //       $('#product-detail .slider').slick(slickSliderSettings); // Enable Slick\n  //     }\n  //     $('body').removeClass('desktop');\n  //   }\n\t// }\n  // if ($('#product-detail').length) { // only run on Product page\n  //   productDetailSlider();\n  // \t$(window).resize ( function() {\tproductDetailSlider(); });\n  // }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n}); // end document.ready\n"]}